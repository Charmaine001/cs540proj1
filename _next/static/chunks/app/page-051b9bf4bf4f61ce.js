(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7241:(e,t,l)=>{Promise.resolve().then(l.bind(l,9319))},9319:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>T});var s=l(5155);l(5565),l(8173);var r=l(2115),i=l(6472);l(7145);var a=l(78),o=l.n(a),n=l(142);let m=e=>{let t=[];for(let l=0;l<e;l++)t.push({id:l+1,arrivalTime:Math.floor(10*Math.random()),burstTime:Math.floor(10*Math.random())+1,priority:Math.floor(3*Math.random())+1});return t},u=e=>{let t=0,l=[];return e.sort((e,t)=>e.arrivalTime-t.arrivalTime),e.forEach(e=>{t<e.arrivalTime&&(t=e.arrivalTime),t+=e.burstTime,l.push({id:e.id,completionTime:t})}),l},c=e=>{let t=0,l=[],s=[...e];for(s.sort((e,t)=>e.arrivalTime-t.arrivalTime);s.length>0;){let e=s.filter(e=>e.arrivalTime<=t);if(0===e.length){t=s[0].arrivalTime;continue}e.sort((e,t)=>e.burstTime-t.burstTime);let r=e[0];t+=r.burstTime,l.push({id:r.id,completionTime:t}),s=s.filter(e=>e.id!==r.id)}return l},d=e=>{let t=0,l=[],s=[...e];for(;s.length>0;){let e=s.filter(e=>e.arrivalTime<=t);if(0===e.length){t=s[0].arrivalTime;continue}e.sort((e,t)=>e.burstTime-t.burstTime);let r=e[0];t+=1,r.burstTime-=1,0===r.burstTime&&(l.push({id:r.id,completionTime:t}),s=s.filter(e=>e.id!==r.id))}return l},h=(e,t)=>{let l=0,s=[],r=[...e];for(r.sort((e,t)=>e.arrivalTime-t.arrivalTime);r.length>0;){let e=r.shift();l<e.arrivalTime&&(l=e.arrivalTime),e.burstTime>t?(l+=t,e.burstTime-=t,r.push(e)):(l+=e.burstTime,s.push({id:e.id,completionTime:l}))}return s},g=e=>{let t=0,l=[[],[],[]],s=[],r=[2,4,8];for(e.forEach(e=>{l[Math.min(Math.max(e.priority-1,0),2)].push({...e,remainingTime:e.burstTime})});l.flat().length>0;){let e=!1;for(let i=0;i<l.length;i++)if(l[i].length>0){let a=l[i].shift(),o=Math.min(a.remainingTime,r[i]);t+=o,a.remainingTime-=o,a.remainingTime>0?i<l.length-1?l[i+1].push(a):l[i].push(a):s.push({id:a.id,completionTime:t}),e=!0;break}!e&&t++}return s},p=e=>{let t=[];for(let l=0;l<e.length;l++){let e=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,200);e.addColorStop(0,"hsl(".concat(72*l%360,", 80%, 70%)")),e.addColorStop(1,"hsl(".concat(72*l%360,", 80%, 50%)")),t.push(e)}return t},b=()=>{let e=document.getElementById("results-container");o()(e).then(e=>{let t=e.toDataURL("image/png"),l=new n.Ay("p","mm","a4"),s=190*e.height/e.width;l.addImage(t,"PNG",10,10,190,s),l.save("scheduling_results.pdf")})},T=()=>{let[e,t]=(0,r.useState)(5),[l,a]=(0,r.useState)(2),[o,n]=(0,r.useState)(m(e)),[T,f]=(0,r.useState)({});(0,r.useEffect)(()=>{n(m(e))},[e]);let v=e=>{let t;switch(e){case"FIFO":console.log("fifo Results:",t=u([...o]));break;case"SJF":console.log("sjf Results:",t=c([...o]));break;case"STCF":console.log("stcf Results:",t=d([...o]));break;case"RR":console.log("rr Results:",t=h([...o],l));break;case"MLFQ":console.log("MLFQ Results:",t=g([...o]));break;default:return}f(l=>({...l,[e]:t}))};return(0,s.jsxs)("div",{className:"container mx-auto p-5",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:"CPU Scheduling Simulator"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Number of Processes"}),(0,s.jsx)("input",{type:"number",value:e,onChange:e=>t(Number(e.target.value)),className:"border p-2",placeholder:"Number of processes"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Time Quantum (for RR)"}),(0,s.jsx)("input",{type:"number",value:l,onChange:e=>a(Number(e.target.value)),className:"border p-2",placeholder:"Time Quantum"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 mt-3",children:[(0,s.jsx)("button",{className:"bg-blue-500 text-white p-2",onClick:()=>{let t=m(e);console.log("Generated Processes:",t),console.log("Running MLFQ...");let s=g([...t]);console.log("MLFQ Results:",s),f(e=>({...e,MLFQ:s})),console.log("Running FIFO...");let r=u([...t]);console.log("FIFO Results:",r),f(e=>({...e,FIFO:r})),console.log("Running SJF...");let i=c([...t]);console.log("SJF Results:",i),f(e=>({...e,SJF:i})),console.log("Running STCF...");let a=d([...t]);console.log("STCF Results:",a),f(e=>({...e,STCF:a})),console.log("Running RR...");let o=h([...t],l);console.log("RR Results:",o),f(e=>({...e,RR:o}))},children:"Run All Algorithms"}),["MLFQ","FIFO","SJF","STCF","RR"].map(e=>(0,s.jsxs)("button",{className:"bg-green-500 text-white p-2",onClick:()=>v(e),children:["Run ",e]},e)),(0,s.jsx)("button",{className:"bg-purple-500 text-white p-2",onClick:b,children:"Save as PDF"})]}),(0,s.jsx)("div",{id:"results-container",className:"grid grid-cols-2 gap-4 mt-5",children:Object.entries(T).map(e=>{let[t,l]=e,r=p(l);return(0,s.jsxs)("div",{className:"border p-4",children:[(0,s.jsxs)("h2",{className:"text-lg font-bold",children:[t," Results"]}),(0,s.jsx)(i.yP,{data:{labels:l.map(e=>"P".concat(e.id)),datasets:[{label:"Completion Time",data:l.map(e=>e.completionTime),backgroundColor:r,borderColor:"rgba(0, 0, 0, 0.1)",borderWidth:1,hoverBackgroundColor:r,hoverBorderColor:"rgba(0, 0, 0, 0.3)"}]},options:{responsive:!0,animation:{duration:1e3,easing:"easeInOutQuad"},scales:{y:{title:{display:!0,text:"Time"},beginAtZero:!0},x:{title:{display:!0,text:"Processes"}}},plugins:{tooltip:{enabled:!0,mode:"index",intersect:!1},legend:{display:!1}}}})]},t)})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[647,930,316,617,441,517,358],()=>t(7241)),_N_E=e.O()}]);